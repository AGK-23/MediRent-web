import{j as e,L as c}from"./index-BWoieiwW.js";import{a as u,b as f,c as j}from"./index-ClIbYhmZ.js";import{r as n}from"./react-apexcharts-chunk-Cs4qZfgr.js";import{a as b}from"./axios-Cm0UX6qg.js";import"./react-datepicker-chunk-B8QU4_4d.js";import"./iconBase-TPT4t0Bk.js";const y=[{id:1,title:"A Great Apartment Next to the Beach!",img:"https://images.pexels.com/photos/1918291/pexels-photo-1918291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:2,bathroom:1,price:1e3,address:"456 Park Avenue, London",latitude:51.5074,longitude:-.1278},{id:2,title:"An Awesome Apartment Near the Park! Almost too good to be true!",img:"https://images.pexels.com/photos/1428348/pexels-photo-1428348.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:3,bathroom:2,price:1500,address:"789 Oxford Street, London",latitude:52.4862,longitude:-1.8904},{id:3,title:"A New Apartment in the City!",img:"https://images.pexels.com/photos/2062426/pexels-photo-2062426.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:1,bathroom:1,price:800,address:"101 Baker Street, London",latitude:53.4808,longitude:-2.2426},{id:4,title:"Great Location! Great Price! Great Apartment!",img:"https://images.pexels.com/photos/2467285/pexels-photo-2467285.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:2,bathroom:1,price:1e3,address:"234 Kingsway, London,",latitude:53.8008,longitude:-1.5491},{id:5,title:"Apartment 5",img:"https://images.pexels.com/photos/276625/pexels-photo-276625.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:3,bathroom:2,price:1500,address:"567 Victoria Road, London",latitude:53.4084,longitude:-2.9916},{id:6,title:"Apartment 6",img:"https://images.pexels.com/photos/271816/pexels-photo-271816.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:1,bathroom:1,price:800,address:"890 Regent Street, London",latitude:54.9783,longitude:-1.6174},{id:7,title:"Apartment 7",img:"https://images.pexels.com/photos/2029667/pexels-photo-2029667.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:2,bathroom:1,price:1e3,address:"112 Piccadilly, London",latitude:53.3811,longitude:-1.4701},{id:8,title:"Apartment 8",img:"https://images.pexels.com/photos/276724/pexels-photo-276724.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:3,bathroom:2,price:1500,address:"8765 Main High Street, London",latitude:51.4545,longitude:-2.5879}];function w({item:s}){var l,i,a;return e.jsxs("div",{className:"flex md:flex-row xs:flex-col gap-[10px] bg-gray-100 justify-between",children:[e.jsx("div",{className:"flex w-full h-[200px] ",children:e.jsx(c,{to:`/admin/dashboard/listing/${s.id}`,className:"flex w-full h-[200px]",children:e.jsx("img",{src:s.avatars[0],className:"cursor-pointer w-full h-full object-cover rounded-lg"})})}),e.jsxs("div",{className:"flex flex-col gap-5 w-full px-4",children:[e.jsx("h2",{className:"md:text-lg xs:text-md font-semibold text-gray-700 transition-all duration-400 hover:text-black mt-4",children:e.jsx(c,{to:`/admin/dashboard/listing/${s.id}`,children:s.title})}),e.jsxs("p",{className:"flex items-center text-gray-600 text-sm ",children:[e.jsx("div",{className:"text-xl text-primary",children:e.jsx(u,{})}),e.jsx("span",{className:"ml-2",children:s.address})]}),e.jsxs("span",{className:"md:text-md xs:text-sm  text-third flex",children:[e.jsx("div",{className:"text-black",children:"Daily Rent:"}),e.jsxs("div",{className:"ml-2",children:["$ ",(l=s==null?void 0:s.housingDetails)==null?void 0:l.dailyRent]})]}),e.jsxs("div",{className:"features flex md:gap-10 xs:gap-2 text-sm md:flex-row xs:flex-col w-full",children:[e.jsxs("div",{className:"feature flex items-center justify-center gap-5 bg-whitesmoke py-1",children:[e.jsx("div",{className:"text-xl text-primary",children:e.jsx(f,{})}),e.jsxs("span",{className:"text-xs flex w-full",children:[e.jsx("div",{children:(i=s==null?void 0:s.housingDetails)==null?void 0:i.noOfBedrooms}),e.jsx("div",{className:"ml-2",children:"bedroom"})]})]}),e.jsxs("div",{className:"feature flex items-center justify-center gap-5 bg-whitesmoke py-1",children:[e.jsx("div",{className:"text-xl text-primary",children:e.jsx(j,{})}),e.jsxs("span",{className:"text-xs flex w-full",children:[e.jsx("div",{children:(a=s==null?void 0:s.housingDetails)==null?void 0:a.noOfBathrooms}),e.jsx("div",{className:"ml-2",children:"bathroom"})]})]})]})]})]})}const B=()=>{const[s,l]=n.useState(""),[i,a]=n.useState(!1),p=t=>{l(t.target.value)};y.filter(t=>{var o;return(o=t==null?void 0:t.title)==null?void 0:o.toLowerCase().includes(s.toLowerCase())});const[x,m]=n.useState([]);n.useEffect(()=>{(async()=>{var o;try{const d=JSON.parse(localStorage.getItem("accessToken"));if(!d){console.error("Access Token not found in localStorage");return}const g={Authorization:`Bearer ${d}`,"Content-Type":"application/json"};a(!0);const r=await b.get("https://medirent-api.onrender.com/housing/get-all-user-listings",{headers:g});console.log("all the response..",r==null?void 0:r.data),m((o=r==null?void 0:r.data)==null?void 0:o.data),a(!1)}catch(d){console.error("Error fetching listings:",d),a(!1)}})()},[]);const h=x.filter(t=>{var o;return(o=t==null?void 0:t.title)==null?void 0:o.toLowerCase().includes(s.toLowerCase())});return e.jsxs("div",{className:"flex flex-col h-full md:mt-0 xs:mt-20 px-5",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search...",value:s,onChange:p,className:"p-2 border border-gray-300 rounded-md my-10 xs:w-full md:w-3/12 outline-gray-200"})}),e.jsx("div",{className:" h-full flex-col justify-center items-center",children:e.jsx("div",{className:"h-full grid md:grid-cols-2 xs:grid-cols-1 gap-10 overflow-y-auto justify-center items-center pb-12",children:i?e.jsx("div",{className:"w-screen flex justify-center items-center h-screen ",children:e.jsx("div",{className:"loader"})}):h.map(t=>e.jsx(w,{item:t},t.id))})})]})};export{B as default};
