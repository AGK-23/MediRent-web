import{j as e,L as m}from"./index-BWoieiwW.js";import{r as c}from"./react-apexcharts-chunk-Cs4qZfgr.js";import{a as g}from"./axios-Cm0UX6qg.js";import"./react-datepicker-chunk-B8QU4_4d.js";const w=()=>{const[p,d]=c.useState(!1),[i,h]=c.useState([]);return c.useEffect(()=>{(async()=>{var a,l,r,x,n;try{const o=JSON.parse(localStorage.getItem("accessToken"));if(!o){console.error("Access Token not found in localStorage");return}const f={Authorization:`Bearer ${o}`,"Content-Type":"application/json"};d(!0);const t=await g.post("https://medirent-api.onrender.com/housing/get-all-listings",{pageIndex:1,pageSize:10,filter:"",keyword:""},{headers:f});console.log("all the response..",(a=t==null?void 0:t.data)==null?void 0:a.data),h((r=(l=t==null?void 0:t.data)==null?void 0:l.data)==null?void 0:r.items.slice(0,3)),console.log("all the positive report..",i),console.log("made from ..",(n=(x=t==null?void 0:t.data)==null?void 0:x.data)==null?void 0:n.items),d(!1)}catch(o){console.error("Error fetching listings:",o),d(!1)}})()},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"my-4 flex justify-between md:flex-row xs:flex-col gap-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-slate-900 text-lg font-bold",children:"Explore Listings "}),e.jsx("div",{className:"text-gray-500 md:text-xs xs:text-[10px]",children:"Search for properties and spaces you may like"})]}),e.jsx(m,{to:"/admin/renter/listing",className:"rounded-full border-[2px] border-third px-10 py-2 text-sm font-semibold text-center",children:"Browse"})]}),e.jsx("div",{className:"grid gap-5 md:grid-cols-3 xs:grid-cols-1 ",children:p?e.jsx("div",{className:"w-screen flex justify-center items-center h-[50vh] ",children:e.jsx("div",{className:"loader"})}):i==null?void 0:i.map((s,a)=>{var l,r;return e.jsx("div",{className:"",children:e.jsx("div",{className:"flex rounded-md py-1 cursor-pointer hover:bg-light-white text-secondary text-sm items-center gap-x-4",children:e.jsxs("li",{className:"flex flex-col w-full border shadow-md rounded-lg",children:[((l=s==null?void 0:s.avatars)==null?void 0:l.length)>0&&e.jsx("img",{src:s==null?void 0:s.avatars[0],alt:"",className:"cursor-pointer rounded-t-lg w-full h-60"}),e.jsx("span",{className:"flex justify-between ",children:e.jsx("span",{className:"flex flex-row relative w-full",children:e.jsx("span",{className:" absolute -top-16 px-3 text-white text-sm bg-third",children:s.address})})}),e.jsxs("div",{className:"flex py-4 px-5 flex-col ",children:[e.jsxs("span",{className:"md:text-lg xs:text-sm  text-third flex",children:[e.jsx("div",{className:"text-black ",children:"Daily Rent:"}),e.jsxs("span",{className:" text-third ml-3",children:["$ ",(r=s==null?void 0:s.housingDetails)==null?void 0:r.dailyRent]})]}),e.jsx("span",{className:"origin-left duration-200 font-medium py-2 md:text-lg xs:text-sm text-pink-600",children:s.title})]}),e.jsx("div",{className:"flex py-4 px-5 flex-col ",children:e.jsx(m,{to:"/admin/renter/listing",className:"md:text-sm xs:text-xs px-3 text-gray-500 rounded-3xl px-3 py-2 border-[1px] border-gray-700 w-fit",children:"View All Listing"})})]},a)})},a)})})]})};export{w as default};
