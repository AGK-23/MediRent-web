import{j as e,L as x}from"./index-BWoieiwW.js";import{r as i}from"./react-apexcharts-chunk-Cs4qZfgr.js";import{a as p}from"./axios-Cm0UX6qg.js";import{a as j,b as N,c as v}from"./index-ClIbYhmZ.js";import"./react-datepicker-chunk-B8QU4_4d.js";import"./iconBase-TPT4t0Bk.js";const y=({item:s})=>{var r,n,t;return e.jsxs("div",{className:"flex md:flex-row xs:flex-col gap-[10px] bg-gray-100 justify-between",children:[e.jsx("div",{className:"flex w-full h-[200px] ",children:e.jsx(x,{to:`/admin/renter/tenant/listing/${s.id}`,className:"flex w-full h-[200px]",children:e.jsx("img",{src:s.avatars[0],className:"cursor-pointer w-full h-full object-cover rounded-lg"})})}),e.jsxs("div",{className:"flex flex-col gap-5 w-full px-4",children:[e.jsx("h2",{className:"md:text-lg xs:text-md font-semibold text-gray-700 transition-all duration-400 hover:text-black mt-4",children:e.jsx(x,{to:`/admin/renter/tenant/listing/${s.id}`,children:s.title})}),e.jsxs("p",{className:"flex items-center text-gray-600 text-sm ",children:[e.jsx("div",{className:"text-xl text-primary",children:e.jsx(j,{})}),e.jsx("span",{className:"ml-2",children:s.address})]}),e.jsxs("span",{className:"md:text-md xs:text-sm  text-third flex",children:[e.jsx("div",{className:"text-black",children:"Daily Rent:"}),e.jsxs("div",{className:"ml-2",children:["$ ",(r=s==null?void 0:s.housingDetails)==null?void 0:r.dailyRent]})]}),e.jsxs("div",{className:"features flex md:gap-10 xs:gap-2 text-sm md:flex-row xs:flex-col w-full",children:[e.jsxs("div",{className:"feature flex items-center justify-center gap-5 bg-whitesmoke py-1",children:[e.jsx("div",{className:"text-xl text-primary",children:e.jsx(N,{})}),e.jsxs("span",{className:"text-xs flex w-full",children:[e.jsx("div",{children:(n=s==null?void 0:s.housingDetails)==null?void 0:n.noOfBedrooms}),e.jsx("div",{className:"ml-2",children:"bedroom"})]})]}),e.jsxs("div",{className:"feature flex items-center justify-center gap-5 bg-whitesmoke py-1",children:[e.jsx("div",{className:"text-xl text-primary",children:e.jsx(v,{})}),e.jsxs("span",{className:"text-xs flex w-full",children:[e.jsx("div",{children:(t=s==null?void 0:s.housingDetails)==null?void 0:t.noOfBathrooms}),e.jsx("div",{className:"ml-2",children:"bathroom"})]})]})]})]})]})},B=()=>{const[s,r]=i.useState(""),[n,t]=i.useState(!1),f=a=>{r(a.target.value)},[m,h]=i.useState([]);i.useEffect(()=>{(async()=>{var l,d;try{const c=JSON.parse(localStorage.getItem("accessToken"));if(!c){console.error("Access Token not found in localStorage");return}const g={Authorization:`Bearer ${c}`,"Content-Type":"application/json"};t(!0);const o=await p.post("https://medirent-api.onrender.com/housing/get-all-listings",{pageIndex:1,pageSize:10,filter:"",keyword:""},{headers:g});h((d=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:d.items),t(!1)}catch(c){console.error("Error fetching listings:",c),t(!1)}})()},[]);const u=m.filter(a=>{var l;return(l=a==null?void 0:a.title)==null?void 0:l.toLowerCase().includes(s.toLowerCase())});return e.jsxs("div",{className:"flex flex-col h-full md:mt-0 xs:mt-20 px-5",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search...",value:s,onChange:f,className:"p-2 border border-gray-300 rounded-md my-10 xs:w-full md:w-3/12 outline-gray-200"})}),e.jsx("div",{className:" h-full flex-col justify-center items-center",children:e.jsx("div",{className:"h-full grid md:grid-cols-2 xs:grid-cols-1 gap-10 overflow-y-auto justify-center items-center pb-12",children:n?e.jsx("div",{className:"w-screen flex justify-center items-center h-screen ",children:e.jsx("div",{className:"loader"})}):u.map(a=>e.jsx(y,{item:a},a.id))})})]})};export{B as default};
