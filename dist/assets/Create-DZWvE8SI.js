function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddressLandlord-CWLhLFb4.js","assets/index-BWoieiwW.js","assets/react-apexcharts-chunk-Cs4qZfgr.js","assets/react-datepicker-chunk-B8QU4_4d.js","assets/react-datepicker-chunk-BRDFbV_Q.css","assets/index-DcesNRtk.css","assets/axios-Cm0UX6qg.js","assets/index-ClIbYhmZ.js","assets/iconBase-TPT4t0Bk.js","assets/HousingDetails-BGYOfPqG.js","assets/Spinner-C7OuFHtl.js","assets/Photo-CKefsGFF.js","assets/AvailabilityLandlord-DLsxZGSB.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as N,b as G,j as t,L as K,t as w}from"./index-BWoieiwW.js";import{r as o}from"./react-apexcharts-chunk-Cs4qZfgr.js";import{a as M}from"./index-DoWaVfqn.js";import{a as f}from"./axios-Cm0UX6qg.js";import{a as v}from"./index-CjloQ4GS.js";/* empty css              */import"./react-datepicker-chunk-B8QU4_4d.js";import"./iconBase-TPT4t0Bk.js";const Q=o.lazy(()=>N(()=>import("./AddressLandlord-CWLhLFb4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),W=o.lazy(()=>N(()=>import("./HousingDetails-BGYOfPqG.js"),__vite__mapDeps([9,1,2,3,4,5,6,10]))),X=o.lazy(()=>N(()=>import("./Photo-CKefsGFF.js"),__vite__mapDeps([11,1,2,3,4,5,10]))),Y=o.lazy(()=>N(()=>import("./AvailabilityLandlord-DLsxZGSB.js"),__vite__mapDeps([12,1,2,3,4,5,10]))),ie=()=>{const L=G(),[T,p]=o.useState(!1);o.useState(!1),o.useState(!1);const[R,u]=o.useState(!1),[k,S]=o.useState(!1),[s,_]=o.useState({listingTitle:"",address:"",city:"",postalCode:"",phone:"",country:"",province:"",promotionCode:""}),[e,C]=o.useState({termOption:"",designOption:"",dailyRent:"",weeklyRent:"",monthlyRent:"",numberOfBedRoom:"",numberOfBathRoom:"",licenseNumber:"",description:"",propertyType:"",currency:"",amenitiesOption:[]}),[n,E]=o.useState("7b057fdb-255d-4d37-b8b9-e9de3addd458");o.useEffect(()=>{console.log("Updated housingData:",n)},[n]);const[A,B]=o.useState([]),[m,$]=o.useState([]),[h,I]=o.useState([]),[y,z]=o.useState({listingTitle:s==null?void 0:s.listingTitle,address:s==null?void 0:s.address,city:s==null?void 0:s.city,postalCode:s==null?void 0:s.postalCode,phone:s==null?void 0:s.phone,country:s==null?void 0:s.country,province:s==null?void 0:s.province,promotionCode:s==null?void 0:s.promotionCode,termOption:e==null?void 0:e.termOption,designOption:e==null?void 0:e.designOption,dailyRent:e==null?void 0:e.dailyRent,weeklyRent:e==null?void 0:e.weeklyRent,monthlyRent:e==null?void 0:e.monthlyRent,numberOfBedRoom:e==null?void 0:e.numberOfBedRoom,numberOfBathRoom:e==null?void 0:e.numberOfBathRoom,licenseNumber:e==null?void 0:e.licenseNumber,description:e==null?void 0:e.description,propertyType:e==null?void 0:e.propertyType,currency:e==null?void 0:e.currency,amenitiesOption:e==null?void 0:e.amenitiesOption,avatars:m,propertyDates:h});o.useEffect(()=>{z({...y,listingTitle:s==null?void 0:s.listingTitle,address:s==null?void 0:s.address,city:s==null?void 0:s.city,postalCode:s==null?void 0:s.postalCode,phone:s==null?void 0:s.phone,country:s==null?void 0:s.country,province:s==null?void 0:s.province,promotionCode:s==null?void 0:s.promotionCode,termOption:e==null?void 0:e.termOption,designOption:e==null?void 0:e.designOption,dailyRent:e==null?void 0:e.dailyRent,weeklyRent:e==null?void 0:e.weeklyRent,monthlyRent:e==null?void 0:e.monthlyRent,numberOfBedRoom:e==null?void 0:e.numberOfBedRoom,numberOfBathRoom:e==null?void 0:e.numberOfBathRoom,licenseNumber:e==null?void 0:e.licenseNumber,description:e==null?void 0:e.description,propertyType:e==null?void 0:e.propertyType,currency:e==null?void 0:e.currency,amenitiesOption:e==null?void 0:e.amenitiesOption})},[e,m,h,s]);const[r,x]=o.useState(1),[Z,P]=o.useState("");o.useState(""),o.useState(""),o.useState("");const[D,j]=o.useState(!0);function F(){const l={method:"GET",url:"https://countriesnow.space/api/v0.1/countries/states"};return f.request(l)}function U(){const l={method:"GET",url:"https://countriesnow.space/api/v0.1/countries"};return f.request(l)}o.useEffect(()=>{async function l(){var c;j(!0);try{const d=await F();P((c=d.data)==null?void 0:c.data),j(!1)}catch(d){console.error(d)}}l()},[]),o.useEffect(()=>{async function l(){j(!0);try{const c=await U();j(!1)}catch(c){console.error(c)}}l()},[]);const H=async()=>{try{const l=JSON.parse(localStorage.getItem("accessToken"));if(!l){console.error("Access Token not found in localStorage");return}const c={Authorization:`Bearer ${l}`,"Content-Type":"application/json"};p(!0);const d=[];h.forEach(a=>{const g=new Date(a).toISOString();d.push(g)}),console.log("all the year in the bank..",d);const i={listingId:n==null?void 0:n.id,propertyDates:d};console.log("the create Listing  ...",n,i);const O=await f.put("https://medirent-api.onrender.com/housing/add-availability-period",{listingId:n==null?void 0:n.id,propertyDates:d},{headers:c});p(!1),O.data.success===!0&&(w.success("Property Dates Created"),L("/admin/dashboard/listing"))}catch(l){p(!1),w.error("Listing creation Failed"),console.error("Error creating Listing:",l)}},V=async()=>{var l;try{const c=JSON.parse(localStorage.getItem("accessToken"));if(u(!0),console.log("landlord..",R),console.log("all the data for housing..",y),!c){console.error("Access Token not found in localStorage");return}const d={Authorization:`Bearer ${c}`,"Content-Type":"application/json"},i=await f.post("https://medirent-api.onrender.com/housing/add-listing",y,{headers:d});return u(!1),E((l=i==null?void 0:i.data)==null?void 0:l.data),console.log("Listing created:",i.data,"all the housing...",n),i.data.success===!0&&(w.success("Listing Created"),x(3)),i.data}catch(c){throw console.error("Error creating listing:",c),u(!1),c}},q=async l=>{try{const i=JSON.parse(localStorage.getItem("accessToken"));if(!i){console.error("Access Token not found in localStorage");return}console.log("all the zone image...",n==null?void 0:n.id,"store images...",m),S(!0);const O={Authorization:`Bearer ${i}`},a=new FormData;m.forEach((g,J)=>{console.log("all the file..",g,J),a.append("files",g),console.log("alll the format in the data..",a)});for(var[c,d]of a.entries())console.log("al the key..",c,d);console.log("format data..",a,n,m);const b=await f.post(`https://medirent-api.onrender.com/File/upload?listingId=${n==null?void 0:n.id}`,a,{headers:O});return S(!1),console.log("Files uploaded:",b.data),b.data.success===!0&&(w.success("Images Successfully Uploaded"),x(4)),b.data}catch(i){throw S(!1),console.error("Error uploading files:",i),i}};return o.useState(!0),o.useState(""),t.jsxs("div",{children:[t.jsx("div",{className:" flex flex-row items-center bg-gray-200 w-fit px-4 py-1 rounded-lg border-none md:mt-10 xs:mt-20 ml-5 ",children:t.jsxs("div",{className:"flex flex-row items-center bg-gray-200 w-fit border-none",children:[t.jsx(K,{to:"/admin/dashboard/landlord",className:"hover:text-slate-400 text-slate-700 font-medium  md:text-sm xs:text-xs",children:"Dashboard"}),t.jsx("span",{className:"text-[20px]",children:t.jsx(M,{})}),t.jsx("span",{className:"text-slate-700 font-medium  md:text-sm xs:text-xs",children:"Create Listing"})]})}),t.jsx("div",{className:"py-0 mt-10 mb-10 bg-white flex font-medium justify-between max-w-screen-xl mx-auto",children:t.jsxs("div",{className:" bg-gray-100 md:flex-1 flex-col w-full items-center relative flex font-medium justify-between max-w-screen-xl mx-auto",children:[t.jsxs("div",{className:" w-full mt-10",children:[t.jsxs("div",{className:"w-full lg:flex xs:hidden md:hidden flex-row justify-center",children:[t.jsxs("div",{className:"flex flex-col ",children:[t.jsxs("div",{className:"flex flex-row",children:[t.jsx("div",{className:`${r>1?"flex items-center justify-center rounded-full p-6 h-10 w-10 !bg-third text-white":"flex items-center justify-center rounded-full p-6 h-10 w-10 !bg-white text-lime-700"}`,children:r>1?t.jsx("span",{className:"font-semibold",children:t.jsx(v,{})}):t.jsx("span",{className:"font-bold text-black",children:"1"})}),t.jsx("div",{className:"flex items-center h-full",children:t.jsx("div",{className:`${r>1?"h-2 w-40 !bg-third ":" h-2 w-40 !bg-white"}`})})]}),t.jsx("span",{className:`${r>1?" !text-third px-2  md:text-md  flex mt-1  ":" !text-black px-2 md:text-md flex mt-1 "}`,children:"Address"})]}),t.jsxs("div",{className:"flex flex-col ",children:[t.jsxs("div",{className:"flex flex-row",children:[t.jsx("div",{className:`${r>2?"flex items-center justify-center rounded-full p-6 h-10 w-10 !bg-third text-white":"flex items-center justify-center rounded-full p-6 h-10 w-10 !bg-white text-lime-700"}`,children:r>2?t.jsx("span",{className:"font-semibold",children:t.jsx(v,{})}):t.jsx("span",{className:"font-bold text-black",children:"2"})}),t.jsx("div",{className:"flex items-center h-full",children:t.jsx("div",{className:`${r>2?"h-2 w-40 !bg-third ":" h-2 w-40 !bg-white"}`})})]}),t.jsx("span",{className:`${r>2?" !text-third px-2  md:text-md  flex mt-1  ":" !text-black px-2 md:text-md flex mt-1 "}`,children:"Details"})]}),t.jsxs("div",{className:"flex flex-col ",children:[t.jsxs("div",{className:"flex flex-row",children:[t.jsx("div",{className:`${r>3?"flex items-center justify-center rounded-full p-6 h-10 w-10 !bg-third text-white":"flex items-center justify-center rounded-full p-6 h-10 w-10 !bg-white text-lime-700"}`,children:r>3?t.jsx("span",{className:"font-semibold",children:t.jsx(v,{})}):t.jsx("span",{className:"font-bold text-black",children:"3"})}),t.jsx("div",{className:"flex items-center h-full",children:t.jsx("div",{className:`${r>3?"h-2 w-40 !bg-third ":" h-2 w-40 !bg-white"}`})})]}),t.jsx("span",{className:`${r>3?" !text-third px-2  md:text-md  flex mt-1  ":" !text-black px-2 md:text-md flex mt-1 "}`,children:"Photos"})]}),t.jsxs("div",{className:"flex flex-col ",children:[t.jsx("div",{className:"flex flex-row",children:t.jsx("div",{className:`${r>4?"flex items-center justify-center rounded-full p-6 h-10 w-10 !bg-third text-white":"flex items-center justify-center rounded-full p-6 h-10 w-10 !bg-white text-lime-700"}`,children:r>4?t.jsx("span",{className:"font-semibold",children:t.jsx(v,{})}):t.jsx("span",{className:"font-bold text-black",children:"4"})})}),t.jsx("span",{className:`${r>4?" !text-third px-2  md:text-md  flex mt-1  ":" !text-black px-2 md:text-md flex mt-1 "}`,children:"Availiability"})]})]}),t.jsx("div",{className:"w-full md:flex xs:flex lg:hidden flex-row justify-center",children:t.jsxs("div",{className:"bg-third rounded-full px-10 py-10 text-white text-2xl font-bold",children:[r,"/4"]})})]}),t.jsx("div",{className:"flex items-center justify-center lg:w-full md:w-full",children:t.jsx("div",{className:"w-full flex flex-col p-0 max-w-4xl px-2",children:t.jsx("div",{className:"w-full flex-1 mt-4",children:t.jsxs("div",{className:"",children:[(r===0||r<=1)&&t.jsx(Q,{active:r,setActive:x,housingData:s,setHousingData:_}),r>1&&r<=2&&t.jsx(W,{active:r,setActive:x,detailsData:e,setDetailsData:C,handleRentUser:V,housingLoading:R,setHousingLoading:u}),r>2&&r<=3&&t.jsx(X,{active:r,setActive:x,avatars:A,setAvatars:B,fileList:m,setFileList:$,handleFilesUpload:q,imageLoading:k}),r>3&&r<=4&&t.jsx(Y,{active:r,setActive:x,selectedDates:h,setSelectedDates:I,createListing:y,userLoading:T,setUserLoading:p,handleSubmitCreateListing:H})]})})})})]})})]})};export{ie as default};
