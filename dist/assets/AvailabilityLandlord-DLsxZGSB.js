import{b as v,j as e,t as w}from"./index-BWoieiwW.js";import{r as a}from"./react-apexcharts-chunk-Cs4qZfgr.js";import{D as N}from"./react-datepicker-chunk-B8QU4_4d.js";import{S as k}from"./Spinner-C7OuFHtl.js";const R=({active:o,setActive:c,selectedDates:s,setSelectedDates:n,formData:S,createListing:C,userLoading:r,setUserLoading:D,handleSubmitCreateListing:d})=>{v(),a.useState(null),a.useState(!1);const x=t=>{console.log("all the date..",t,"all value...",s),console.log("DATE ..",t[0]instanceof Date),t[0]instanceof Date&&!s.some(l=>l.toDateString()===t[0].toDateString())&&n([...s,t[0]])},m=t=>{const l=s.filter(g=>g.getTime()!==t.getTime());n(l)},h=()=>{if(s.length===0){w.warning("Please fill in all required fields.");return}},u=async()=>{await d()},p=async()=>{h(),console.log("done"),await u(),console.log("completed")},[f,i]=a.useState(""),y=a.useRef(),j=t=>i(i(t.target.value)),b=()=>{c(o-1)};return e.jsx("div",{children:e.jsxs("div",{className:"my-10",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"text-center my-10 font-base md:text-3xl xs:text-xl",children:" AVAILABILITY FORM"})}),e.jsx("div",{className:"bg-[#fff9e2] py-4 px-4 text-start text-[#c29c4b] md:text-base xs:text-xs my-5",children:"Hint: keep this calendar up to date to increase your contacts. (click a month to block a full month)"}),e.jsx("div",{className:"text-black py-4 px-4 text-start  md:text-base xs:text-xs my-2",children:"You can synchronize the calendar of availability of your ad with one from another website (Airbnb, Home Away, Google Calendar, etc.)."}),e.jsx("div",{className:"text-black py-4 px-4 text-start  md:text-base xs:text-xs my-2",children:"To do so, you must copy/paste the link of the calendar below. Once done, your calendar will be updated every night."}),e.jsx("div",{className:"relative my-10",children:e.jsx("input",{id:"linkUrl",className:"w-full px-6 rounded-md border border-gray-300 md:py-4 xs:py-2 focus:border-gray-400 focus:ring-1 focus:ring-gray-400 focus:outline-none input active:outline-none focus:shadow-md",type:"text",ref:y,name:"linkUrl",value:f,onChange:j,placeholder:"Link with external calendar (URL)"})}),e.jsxs("div",{className:"flex items-center my-3",children:[e.jsx("div",{className:" border-[1px] border-gray-700 p-2 h-4 w-4 bg-white"}),e.jsx("div",{className:"ml-4 text-gray-700 w-full",children:"Dates not Selected"})]}),e.jsxs("div",{className:"flex items-center my-3",children:[e.jsx("div",{className:" border-[1px] border-gray-700 p-2 h-4 w-4 bg-sky-700"}),e.jsx("div",{className:"ml-4 text-gray-700 w-full",children:"Dates Selected"})]}),e.jsxs("div",{className:"flex w-full justify-center items-center flex-col gap-10",children:[e.jsx(N,{onChange:x,inline:!0,selectsRange:!0,startDate:s[0],endDate:s[s.length-1],calendarClassName:"custom-calendar",dateFormat:"MMMM d, yyyy",placeholderText:"Select dates",shouldCloseOnSelect:!1,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:15,showMonthDropdown:!0,dropdownMode:"select"}),s.length>0&&e.jsxs("div",{children:[e.jsx("h2",{children:"Available Dates:"}),e.jsx("ul",{children:s.map((t,l)=>e.jsxs("li",{className:"my-8 flex justify-between items-center w-full ",children:[e.jsx("span",{className:"w-full  whitespace-nowrap",children:t==null?void 0:t.toDateString()}),e.jsx("span",{className:"w-full ",children:e.jsx("button",{className:"rounded-lg text-white bg-rose-600 px-4 py-1 ml-10 text-sm",onClick:()=>m(t),children:"Remove"})})]},l))})]})]}),e.jsxs("div",{className:"flex justify-between pb-10",children:[e.jsx("div",{className:"flex justify-end z-10 relative mt-4  mr-3",children:e.jsx("button",{onClick:p,className:"flex justify-end items-center z-10 relative bg-third text-white md:text-sm rounded-lg md:py-3 md:px-16 xs:text-[15px] xs:py-3 xs:px-6",disabled:r,children:r?e.jsx("div",{className:"flex items-center px-6",children:e.jsx("div",{children:e.jsx("img",{alt:"",src:k,className:"text-[1px] text-white"})})}):e.jsx("span",{className:"",children:"Submit"})})}),e.jsx("div",{className:"flex justify-end z-10 relative mt-4 ",children:e.jsx("button",{onClick:b,className:"flex justify-end z-10 relative bg-rose-500 text-white md:text-sm rounded-lg md:py-3 md:px-16 xs:text-[15px] xs:py-3 xs:px-10",children:e.jsx("span",{className:"",children:"Previous"})})})]})]})})};export{R as default};
