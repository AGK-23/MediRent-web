import{j as s,L as n}from"./index-BWoieiwW.js";import{r as i}from"./react-apexcharts-chunk-Cs4qZfgr.js";import{a as m}from"./axios-Cm0UX6qg.js";import"./react-datepicker-chunk-B8QU4_4d.js";const j=()=>{i.useState("");const[d,c]=i.useState(!1),[o,x]=i.useState([]);return i.useEffect(()=>{(async()=>{var l;try{const t=JSON.parse(localStorage.getItem("accessToken"));if(!t){console.error("Access Token not found in localStorage");return}const r={Authorization:`Bearer ${t}`,"Content-Type":"application/json"};c(!0);const a=await m.get("https://medirent-api.onrender.com/housing/get-all-user-listings",{headers:r});console.log("all the response..",a==null?void 0:a.data),x((l=a==null?void 0:a.data)==null?void 0:l.data.slice(0,3)),c(!1)}catch(t){console.error("Error fetching listings:",t),c(!1)}})()},[]),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-700 text-lg py-7",children:"Properties Overview"}),s.jsx("div",{className:"grid gap-5 md:grid-cols-3 xs:grid-cols-1 ",children:d?s.jsx("div",{className:"w-screen flex justify-center items-center h-[50vh] ",children:s.jsx("div",{className:"loader"})}):o==null?void 0:o.map((e,l)=>{var t,r;return s.jsx("div",{className:"",children:s.jsx("div",{className:"flex rounded-md py-1 cursor-pointer hover:bg-light-white text-secondary text-sm items-center gap-x-4",children:s.jsxs("li",{className:"flex flex-col w-full border shadow-md rounded-lg",children:[((t=e==null?void 0:e.avatars)==null?void 0:t.length)>0&&s.jsx("img",{src:e==null?void 0:e.avatars[0],alt:"",className:"cursor-pointer rounded-t-lg w-full h-60"}),s.jsx("span",{className:"flex justify-between ",children:s.jsx("span",{className:"flex flex-row relative w-full",children:s.jsx("span",{className:" absolute -top-16 px-3 text-white text-sm bg-third",children:e.address})})}),s.jsxs("div",{className:"flex py-4 px-5 flex-col ",children:[s.jsxs("span",{className:"md:text-lg xs:text-sm  text-third flex",children:[s.jsx("div",{className:"text-black ",children:"Daily Rent:"}),s.jsxs("span",{className:" text-third ml-3",children:["$ ",(r=e==null?void 0:e.housingDetails)==null?void 0:r.dailyRent]})]}),s.jsx("span",{className:"origin-left duration-200 font-medium py-2 md:text-lg xs:text-sm text-pink-600",children:e.title})]}),s.jsx("div",{className:"flex py-4 px-5 flex-col ",children:s.jsx(n,{to:"/admin/dashboard/listing",className:"md:text-sm xs:text-xs px-3 text-gray-500 rounded-3xl px-3 py-2 border-[1px] border-gray-700 w-fit",children:"View All Listing"})})]},l)})},l)})})]})};export{j as default};
